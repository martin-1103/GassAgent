{
  "table_name": "system_settings",
  "description": "Tabel untuk menyimpan system-wide configuration settings",
  "phase": "phase_4",
  "columns": {
    "id": {
      "type": "BIGINT",
      "unsigned": true,
      "auto_increment": true,
      "primary_key": true,
      "description": "Primary key untuk tabel system_settings"
    },
    "key_name": {
      "type": "VARCHAR(100)",
      "unique": true,
      "not_null": true,
      "description": "Unique key untuk setting",
      "validation": {
        "pattern": "^[a-z_][a-z0-9_]*$"
      }
    },
    "value": {
      "type": "TEXT",
      "nullable": true,
      "description": "Value dari setting (sesuai dengan data_type)"
    },
    "description": {
      "type": "TEXT",
      "nullable": true,
      "description": "Deskripsi tentang setting dan penggunaannya"
    },
    "data_type": {
      "type": "ENUM('string', 'number', 'boolean', 'json')",
      "default": "string",
      "not_null": true,
      "description": "Tipe data dari value"
    },
    "is_public": {
      "type": "BOOLEAN",
      "default": false,
      "not_null": true,
      "description": "Apakah setting bisa diakses oleh public users"
    },
    "is_system": {
      "type": "BOOLEAN",
      "default": false,
      "not_null": true,
      "description": "Apakah ini adalah system setting yang tidak bisa dihapus",
      "security": {
        "protected": true,
        "modification_restriction": "admin_only"
      }
    },
    "created_by": {
      "type": "BIGINT",
      "unsigned": true,
      "nullable": true,
      "description": "User yang membuat setting",
      "references": "users(id)"
    },
    "updated_by": {
      "type": "BIGINT",
      "unsigned": true,
      "nullable": true,
      "description": "User yang terakhir mengupdate setting",
      "references": "users(id)"
    },
    "created_at": {
      "type": "TIMESTAMP",
      "default": "CURRENT_TIMESTAMP",
      "not_null": true,
      "description": "Waktu pembuatan setting"
    },
    "updated_at": {
      "type": "TIMESTAMP",
      "default": "CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP",
      "not_null": true,
      "description": "Waktu terakhir update setting"
    }
  },
  "constraints": {
    "unique_constraints": [
      {
        "name": "uk_system_settings_key_name",
        "columns": ["key_name"]
      }
    ],
    "foreign_key_constraints": [
      {
        "name": "fk_system_settings_created_by",
        "column": "created_by",
        "references": "users(id)",
        "on_delete": "SET NULL",
        "on_update": "CASCADE"
      },
      {
        "name": "fk_system_settings_updated_by",
        "column": "updated_by",
        "references": "users(id)",
        "on_delete": "SET NULL",
        "on_update": "CASCADE"
      }
    ]
  },
  "default_settings": {
    "app_name": {
      "value": "RBAC User Panel",
      "description": "Application name displayed to users",
      "data_type": "string",
      "is_public": true,
      "is_system": true
    },
    "app_version": {
      "value": "1.0.0",
      "description": "Current application version",
      "data_type": "string",
      "is_public": true,
      "is_system": true
    },
    "max_login_attempts": {
      "value": "5",
      "description": "Maximum failed login attempts before account lockout",
      "data_type": "number",
      "is_public": false,
      "is_system": true
    },
    "account_lockout_duration": {
      "value": "15",
      "description": "Account lockout duration in minutes",
      "data_type": "number",
      "is_public": false,
      "is_system": true
    },
    "session_timeout_hours": {
      "value": "24",
      "description": "Session timeout duration in hours",
      "data_type": "number",
      "is_public": false,
      "is_system": true
    },
    "email_verification_required": {
      "value": "true",
      "description": "Require email verification for new accounts",
      "data_type": "boolean",
      "is_public": false,
      "is_system": true
    }
  },
  "security": {
    "system_protection": {
      "system_settings_immutable": true,
      "require_admin_privileges": true,
      "audit_all_changes": true
    },
    "validation_rules": {
      "key_format_validation": true,
      "data_type_validation": true,
      "value_format_validation": true
    }
  }
}