{
  "table_name": "permissions",
  "relationships": {
    "many_to_one": {
      "users": {
        "foreign_key": "created_by",
        "on_delete": "SET NULL",
        "on_update": "CASCADE",
        "description": "User yang membuat permission"
      }
    },
    "one_to_many": {
      "role_permissions": {
        "foreign_key": "permission_id",
        "on_delete": "CASCADE",
        "on_update": "CASCADE",
        "description": "Roles yang memiliki permission ini"
      }
    },
    "many_to_many": {
      "roles": {
        "through_table": "role_permissions",
        "foreign_key": "permission_id",
        "related_foreign_key": "role_id",
        "description": "Permission dapat dimiliki oleh multiple roles"
      }
    }
  },
  "relationship_constraints": {
    "users_creator": {
      "constraint_name": "fk_permissions_created_by",
      "references": "users(id)",
      "on_delete": "SET NULL"
    },
    "role_permissions": {
      "constraint_name": "fk_role_permissions_permission_id",
      "references": "permissions(id)",
      "on_delete": "CASCADE"
    }
  },
  "cascade_rules": {
    "permission_deletion": {
      "description": "Ketika permission dihapus, semua role assignments akan terhapus",
      "impact": "High - perlu konfirmasi sebelum hapus permission"
    }
  },
  "relationship_integrity": {
    "prevent_orphaned_records": true,
    "system_permission_protection": {
      "enabled": true,
      "description": "Mencegah penghapusan system permissions"
    }
  }
}