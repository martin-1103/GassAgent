{
  "table_name": "user_sessions",
  "description": "Tabel untuk mengelola sesi login user",
  "phase": "phase_1",
  "columns": {
    "id": {
      "type": "BIGINT",
      "unsigned": true,
      "auto_increment": true,
      "primary_key": true,
      "description": "Primary key untuk tabel user_sessions"
    },
    "user_id": {
      "type": "BIGINT",
      "unsigned": true,
      "not_null": true,
      "description": "Foreign key ke tabel users",
      "references": "users(id)"
    },
    "session_token": {
      "type": "VARCHAR(255)",
      "unique": true,
      "not_null": true,
      "description": "JWT session token",
      "security": {
        "jwt_token": true,
        "signed": true
      }
    },
    "refresh_token": {
      "type": "VARCHAR(255)",
      "unique": true,
      "nullable": true,
      "description": "Refresh token untuk session renewal",
      "security": {
        "rotation_enabled": true
      }
    },
    "ip_address": {
      "type": "VARCHAR(45)",
      "nullable": true,
      "description": "IP address dari mana user login"
    },
    "user_agent": {
      "type": "TEXT",
      "nullable": true,
      "description": "User agent string dari browser/device"
    },
    "is_active": {
      "type": "BOOLEAN",
      "default": true,
      "not_null": true,
      "description": "Status aktif session"
    },
    "expires_at": {
      "type": "TIMESTAMP",
      "not_null": true,
      "description": "Waktu kadaluarsa session"
    },
    "created_at": {
      "type": "TIMESTAMP",
      "default": "CURRENT_TIMESTAMP",
      "not_null": true,
      "description": "Waktu pembuatan session"
    },
    "last_accessed_at": {
      "type": "TIMESTAMP",
      "default": "CURRENT_TIMESTAMP",
      "not_null": true,
      "description": "Waktu terakhir session diakses"
    }
  },
  "constraints": {
    "unique_constraints": [
      {
        "name": "uk_user_sessions_session_token",
        "columns": ["session_token"]
      },
      {
        "name": "uk_user_sessions_refresh_token",
        "columns": ["refresh_token"]
      }
    ],
    "foreign_key_constraints": [
      {
        "name": "fk_user_sessions_user_id",
        "column": "user_id",
        "references": "users(id)",
        "on_delete": "CASCADE",
        "on_update": "CASCADE"
      }
    ]
  },
  "security": {
    "session_management": {
      "max_concurrent_sessions": 3,
      "default_session_timeout": "24h",
      "refresh_token_rotation": true,
      "ip_validation": false
    },
    "cleanup_policy": {
      "expired_sessions": "automatic_cleanup",
      "inactive_sessions": "cleanup_after_7_days"
    }
  }
}