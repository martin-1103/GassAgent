{
  "table_name": "user_activities",
  "description": "Tabel untuk logging aktivitas user untuk audit dan monitoring",
  "phase": "phase_2",
  "columns": {
    "id": {
      "type": "BIGINT",
      "unsigned": true,
      "auto_increment": true,
      "primary_key": true,
      "description": "Primary key untuk tabel user_activities"
    },
    "user_id": {
      "type": "BIGINT",
      "unsigned": true,
      "nullable": true,
      "description": "Foreign key ke tabel users",
      "references": "users(id)"
    },
    "activity_type": {
      "type": "VARCHAR(50)",
      "not_null": true,
      "description": "Tipe aktivitas (login, logout, profile_update, role_assignment, dll)"
    },
    "description": {
      "type": "TEXT",
      "nullable": true,
      "description": "Deskripsi detail tentang aktivitas"
    },
    "ip_address": {
      "type": "VARCHAR(45)",
      "nullable": true,
      "description": "IP address dari mana aktivitas dilakukan"
    },
    "user_agent": {
      "type": "TEXT",
      "nullable": true,
      "description": "User agent string"
    },
    "metadata": {
      "type": "JSON",
      "nullable": true,
      "description": "Metadata tambahan tentang aktivitas (old_values, new_values, etc.)"
    },
    "created_at": {
      "type": "TIMESTAMP",
      "default": "CURRENT_TIMESTAMP",
      "not_null": true,
      "description": "Waktu aktivitas terjadi"
    }
  },
  "constraints": {
    "foreign_key_constraints": [
      {
        "name": "fk_user_activities_user_id",
        "column": "user_id",
        "references": "users(id)",
        "on_delete": "CASCADE",
        "on_update": "CASCADE"
      }
    ]
  },
  "security": {
    "audit_requirements": {
      "log_all_user_actions": true,
      "log_sensitive_operations": true,
      "retention_period": "90 days",
      "tamper_proof": true
    }
  },
  "activity_types": {
    "authentication": [
      "login",
      "logout",
      "login_failed",
      "password_change",
      "password_reset_request",
      "email_verification",
      "two_factor_setup"
    ],
    "user_management": [
      "user_created",
      "user_updated",
      "user_deleted",
      "user_activated",
      "user_deactivated",
      "profile_updated"
    ],
    "role_management": [
      "role_created",
      "role_updated",
      "role_deleted",
      "role_assignment",
      "role_removal",
      "permission_assignment"
    ],
    "system": [
      "system_login",
      "system_logout",
      "admin_action",
      "security_violation",
      "data_export",
      "bulk_operation"
    ]
  }
}